---
title: 计算机网络
date: 2018-12-16
categories: 
- 面试
---
## 简述 HTTP 和 HTTPS 并说明区别
HTTP 和 HTTPS 协议都发生在应用层，而TCP/IP发生在传输层
### 概念
HTTP：超文本传输协议，是一个客户端和服务端请求和应答的标准，运行在TCP之上。是用于服务器将超文本传输到浏览器的传输协议
HTTPS：以安全为目标的 HTTP 协议，在 HTTP 和 TCP 之间加入了 SSL（安全套接字），是添加了加密和认证机制的 HTTP
### 区别
安全性：HTTP 是明文传输，HTTPS 则是具有安全性的 SSL 加密传输协议
端口不同：HTTP 与 HTTP 使用不同的连接方式，用的端口也不一样，前者是80，后者是443
资源消耗：和 HTTP 相比，HTTPS 会由于加密解密处理消耗更多的 CPU 和内存资源
费用开销：HTTPS 通信需要证书，而证书一般需要向认证机构购买
### HTTPS 的工作原理
客户使用 HTTPS 访问服务器，则要求服务器建立 SSL 连接
服务器接收到客户的请求后，会将包含公钥的证书传给客户，客户端与服务器协商加密等级
加密等级一致后，建立会话秘钥，然后通过公钥加密会话秘钥，传送给网站
服务器通过自己的私钥解密会话秘钥，来和客户端进行通信
### HTTPS 的优点及缺点
优点：加密传输、安全性高、可完成身份认证

缺点：
HTTPS 握手阶段费时，使页面加载速度变慢
HTTPS 缓存不如 HTTP 高效，增加数据开销
SSL 证书加密，增加费用，且 SSL 证书需绑定IP
## TCP 与 UDP
### TCP 三次握手
关键：序列号和确认号、前两次握手发送的报文都不能携带数据

服务器进入了LISTEN（监听）状态；

请求报文：客户端向服务器请求连接，设置标记位为 SYN =1，同时初始一个序列号 seq = x，此时，客户端进入 SYN - SENT。TCP 规定，SYN 报文段（SYN=1的报文段）不能携带数据，但需要消耗掉一个序号。

确认报文：服务器收到连接请求，则发出确认报文。确认报文中 ACK =1，SYN =1，确认号 ack = x +1，同时初始化一个序列号 seq = y，发送给客户端。此时，TCP 服务器进入了 SYN - RCVD（同步收到）状态。这个报文也不能携带数据，但是同样要消耗一个序号。

客户端收到确认后，进入 ESTABLISHED（已建立连接）状态，并向服务器确认。确认报文的 ACK =1，ack = y +1，序列号 seq = x +1，服务器收到后也进入 ESTABLISHED（已建立连接）状态。TCP 规定，ACK 报文段可以携带数据，且消耗序列号，但如果不携带数据则不消耗序列号。
### 为什么是三次握手而不是两次
为了实现可靠传输，发送方和接收方始终需要同步(SYN)序号。由于 TCP 是一个双向通信协议，通信双方都有能力发送信息，并接收响应。因此，通信双方都需要随机产生一个初始的序列号，并且把这个起始值告诉对方。
### TCP 与 UDP 区别
TCP 是面向连接的，UDP 是无需连接，发送数据不需要提前建立连接

UDP 通讯有四个参数：源 IP 、源端口、目的 IP 和目的端口。而 TCP 通讯至少有有六个参数：源 IP 、源端口、目的 IP 和目的端口，**序列号**和**确认号**。

TCP 提供可靠交付，UDP 不保证可靠交付，因此 TCP 接收方收到的数据是完整，有序，无差错的，更适合大数据传输，保证了数据的完整性

TCP 是面向字节流，读取 TCP 数据就像从串行端口读取数据一样，无法预先得知在一次指定的读调用中会返回多少字节，同时 TCP 在网络堵塞时不会影响传输速率。UDP 面向报文

TCP 只支持一对一，UDP 可实现一对多传输

TCP 首部20字节，UDP 只有8字节。 UDP 的头部开销小，只有8字节，相比 TCP 的至少二十字节要少得多，在传输数据报文时是很高效的
## 计算机网络 OSI 七层模型
应用层、表示层、会话层、传输层、网络层、链路层、物理层
## HTTP请求的方式，HEAD方式
head:用于用户访问报头
options：用于客户端查看服务器支持的请求类型
## HTTP1.0和 HTTP1.1的区别
## HTTP2.0
提升访问速度、允许多路复用、二进制分帧、首部压缩、服务器Push
## HTTP状态码
2XX 成功
3XX 重定向
4XX 客户端错误
5XX 服务器错误

200 OK
204 No Content 无内容。服务器成功处理，但未返回内容
301 表示资源被分配到新的 URL 302 代表暂时性转移 URL
304 所请求的资源未修改，服务器不会返回任何资源（ 发现缓存有 Last Modified ，那么请求中会包含 If Modified Since ，这个时间就是缓存文件的 Last Modified 。如果请求中包含 If Modified Since，就说明已经有缓存在客户端。服务端只要判断这个时间和当前请求的文件的修改时间就可以确定是返回 304 还是 200 。
400 bad request，请求报文存在语法错误
401 unauthorized，表示发送的请求需要认证
403 forbidden，表示对请求资源的访问被服务器拒绝
500 Internal Server Error 服务器内部错误，无法完成请求
504 Gateway Time-out 网关超时
## GET和POST的区别
安全性：GET 是不安全的，在传输过程，数据被拼接在请求的 URL 中；POST放在请求体，传输过程，数据对用户来说都是不可见的。

传参长度：GET 参数长度有限，POST 无限制。HTTP 协议 未规定 GET 和 POST 的长度限制。GET 的最大长度因为 浏览器和 web 服务器限制了 URI 的长度

请求方式：GET/POST本质是 TCP 连接。GET 产生一个 TCP 数据包；POST 产生两个 TCP 数据包。对于GET方式的请求，浏览器会把 HTTP header 和 data 一并发送出去，服务器响应 200（返回数据）；而对于 POST ，浏览器先发送 header ，服务器响应100 continue，浏览器再发送 data ，服务器响应 200 ok（返回数据）。

## HTTP支持的方法
GET, POST, PUT, DELETE
## 304
304 所请求的资源未修改，服务器不会返回任何资源（ 发现缓存有 Last Modified ，那么请求中会包含 If Modified Since ，这个时间就是缓存文件的 Last Modified 。如果请求中包含 If Modified Since，就说明已经有缓存在客户端。服务端只要判断这个时间和当前请求的文件的修改时间就可以确定是返回 304 还是 200 。
