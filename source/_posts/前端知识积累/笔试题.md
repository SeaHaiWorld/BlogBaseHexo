---
title: 笔试题
date: 2018-12-16
categories: 
- 面试
---
### 字符串翻转
```javascript
    let s = 'abcdef'
    let reverseString = function(s) {
        let arr = s.split('');
        arr = arr.reverse();
        let str = arr.join('');
        return str
    }

```
### a,b,c,d四个脚本，执行完了，才可以执行y
```javascript
    /*
    * a,b,c,d均是promise对象
    */
    let arr = [a, b, c, d];
    Promise.all(arr).then(function y(){
        console.log(123)
    })
```
### 递归遍历树
```javascript

//递归实现
//@leafId  查找的id，
//@nodes   原始Json数据
//@path    供递归使用
function findPathByLeafId(leafId, nodes, path) {
  if(path === undefined) {
    path = [];
  }
  for(var i = 0; i < nodes.length; i++) {
      var tmpPath = path.concat();
      tmpPath.push(nodes[i].id);
      if(leafId == nodes[i].id) {
         return tmpPath;
      }
      if(nodes[i].children) {
        var findResult = findPathByLeafId(leafId, nodes[i].children, tmpPath);
        if(findResult) {
          return findResult;
        }
      }
  }
}
```
### 获取 url 中的参数

```javascript
/*
* 1. 指定参数名称，返回该参数的值 或者 空字符串
* 2. 不指定参数名称，返回全部的参数对象 或者 {}
* 3. 如果存在多个同名参数，则返回数组
* input `http://www.nowcoder.com?key=1&key=2&key=3&test=4#hehe key`
* output `[1, 2, 3]`
*/
function getUrlParam(sUrl, sKey) {
    let paramArr = sUrl.substring(sUrl.indexOf('?')+1).split('#')[0].split('&');
    let obj={}
    paramArr.forEach(e=>{
        const [key,value]=e.split('=')
        if(obj.hasOwnProperty(key)){
            obj[key]=[].concat(obj[key],value)
        } else {
            obj[key] =value
        }
    })
    if(sKey) return obj[sKey]?obj[sKey]:''
    else return obj
}
```
### 字符串字符统计
统计字符串中每个字符的出现频率，返回一个 Object，key 为统计字符，value 为出现频率

```javascript
/*
* 1. 不限制 key 的顺序
* 2. input的字符串参数不会为空
* 3. 忽略空白字符
* input 'hello world'
* output {h: 1, e: 1, l: 3, o: 2, w: 1, r: 1, d: 1}
*/
function count(str) {
    let obj = {};
    str = str.replace(/\s/,'');
    let l = str.length;
    for(let i = 0; i < l; i++){
        obj.hasOwnProperty(str[i])?obj[str[i]]++:obj[str[i]]=1
    }   
    return obj
}

count('hello world')
```
### 数组元素统计
```javascript
/*
* input [1,1,1,2,3,3,2]
* output {1: 3, 2: 2, 3: 2}
*/
function count(arr) {
    let obj = {};
    arr.forEach(item => {
        obj.hasOwnProperty(item)?obj[item]++:obj[item]=1
    });
    return obj
};
 
count([1,1,1,2,3,3,2])
```
### 打印最长回文字符串
```javascript
/*
* input "ddabbade"
* output "dabbad"
*/

// for 循环体
function longestPalindrome(str){
   let p = '';
   let temp = '';
   for(let i = 0; i < str.length; i++){
     temp = '';
     for(let j = i; j < str.length; j++){
          temp += str.charAt(j);
          let r = temp.split('').reverse().join('')
          if(temp === r && temp.length > p.length){
            p = temp;
          }
     }
   }
   return p
}

console.log(longestPalindrome("ddabbade"));

// while 循环体
function longestPalindrome1(str){
   let p = '';
   let temp = '';
   let i = 0;
   while(i< str.length){
          temp='';
          let j=i
          while(j<str.length){
               temp += str.charAt(j)
               if(temp==temp.split('').reverse().join('')&& temp.length > p.length){
                    p=temp;
               }
          j++
          }
          i++
   }
   return p
}

console.log(longestPalindrome1("ddabbade"));
```
#### 记录：while 循环体和 for 循环体的区别
for循环：适合循环次数是已知的操作。如：
```javascript
let l = 10; 
for(let i = 0; i < l; i++){
    console.log(i);
}

// for(初始化语句; 判断条件语句; 控制条件语句){
//     循环体语句;
// }
```
while循环：适合循环次数是未知的操作。如：
```javascript
let l = 10;           
let i = 0;
while(i < l){
    console.log(i);
    i++;
}

// 初始化语句；
// while(判断条件语句){ 
//     循环体语句；
//     控制条件语句； 
// }
```
### 请实现一个36进制转10进制的函数
    输入描述:
    输入参数类型为:36进制字符串，要支持转长整型
    最大值是"1y2p0ij32e8e7"。
    输出描述:
    符合条件输出转化的长整型，不符合条件的输入转
    化后输出o，超过最太或最小输入则只输出转化后能
    支持的最大或最小长整型值。
```javascript

```
### 给定一个长度为n的连续有序数组[1,2,3,...,n],计算共能构建出多少种不同的二叉搜索树
    输入描述:
    小于15的正整数
    输出描述:
    正整数
```javascript

```
### 数组按出现次数从大到小次序排序
```javascript
/*
* input [0,2,2,4,1,3,2,3]
* output '23014'
*/
function getSort(array) {
    let needs = {}
    for(let i = 0; i < array.length; i++){
        needs[array[i]]?needs[array[i]]++:needs[array[i]]=1
    }
    let sorted = Object.keys(needs).sort((a,b)=>{
       return needs[b]-needs[a];
    });
    return sorted.join('')
}
console.log(getSort([0,2,2,4,1,3,2,3]))
```
```javascript
    //根据对象 values 大小排序，输出排序后的 key 值
    let obj = {1:1,2:2,3:3}
    let sorted = Object.keys(obj).sort((a,b)=>{
           return obj[b]-obj[a];
    });
```
### 数字戳转时间格式
```javascript
/*
* 获取小时使用getHTCHours()
* input 1600090559164
*/
function sysTime(timestamp){
    var date = new Date(timestamp );//时间戳为10位需*1000，时间戳为13位的话不需乘1000
    var Y = date.getFullYear() + '-';
    var M = (date.getMonth() + 1 < 10 ? '0' + (date.getMonth() + 1) : date.getMonth() + 1) + '-';
    var D = date.getDate() < 10 ? '0' + date.getDate() : date.getDate() + ' ';
    var h = date.getUTCHours() < 10 ? '0' + date.getHours() : date.getHours() + ':';
    var m = date.getMinutes() < 10 ? '0' + date.getMinutes() + ':' : date.getMinutes() + ':';
    var s = date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds();
    return Y + M + D + h + m + s;
}
console.log(sysTime(1600090559164))
```
### 数组的子奇数长度数组之和
```javascript
function sumOddLengthSubarrays( arr ) {
    let sum = 0;
    for(let i = 0; i< arr.length; i++){
        for(let j = i; j< arr.length; j++){
            let odd = j-i+1
            console.log(i,j,odd)
            if(odd%2==1){
                let temp = arr.slice(i,j+1)
                for(let n = 0; n<temp.length;n++){
                    sum+=temp[n]
                }
            }
        }
    }
    return sum
}
sumOddLengthSubarrays([1,2])
```